
<!--
If there's only one page, don't bother creating the buttons
    If there's an earlier page, add the "previous" button.
    If there's a next page, add the "next" button.
    Add the "goto page" button
-->

<!-- Get a list of all the page-numbers and their URLs for pages in the same library/document/chapter as the current page -->
{% assign fullpages = site.pages | where: 'libname', page.libname | where: 'docname', page.docname | where: 'chapnum', page.chapnum, | sort: 'pagenum' %}
{% assign pagenums = site.pages | where: 'libname', page.libname | where: 'docname', page.docname | where: 'chapnum', page.chapnum, | sort: 'pagenum' | map: 'pagenum' | uniq | compact %}
{% assign pagecount = site.pages | where: 'libname', page.libname | where: 'docname', page.docname | where: 'chapnum', page.chapnum, | sort: 'pagenum' | map: 'pagenum' | uniq | compact | size  %}
 {% assign pageurls = site.pages | where: 'libname', page.libname | where: 'docname', page.docname | where: 'chapnum', page.chapnum, | sort: 'pagenum' | map: 'url' | uniq | compact %}

{% if pagecount > 1 %}
{% for pnum in pagenums %}
    <p> pagnums: {{pagenums}}</p>
    <p> pagecount: {{pagecount}}</p>
    <p> pageurls: {{pageurls}}</p>
{% endfor %}

<!--
<div class="seriesContext">

{% for fpage in fullpages %}
  <!-- If page.pagenum minus 1 exists, create the -->

<a href="{{pg.url | remove: '/'}}"><button type="button" class="btn btn-primary">Previous Page </button></a>
<a href="{{pg.url | remove: '/'}}"><button type="button" class="btn btn-primary">Next Page </button></a>

    <div class="btn-group">
        <button type="button" data-toggle="dropdown" class="btn btn-primary dropdown-toggle">Jump to page <span class="caret"></span></button>
        <ol class="dropdown-menu">
            <li class="disabled"> <strong>â†’</strong>{{pg.weight}}. {{pg.title}}</li>
            <li>
                <a href="{{pg.url | remove: '/'}}">{{pg.weight}}. {{pg.title}}</a>
            </li>
        </ol>
    </div>


{% assign seriesornot = site.page.series %}
{% if seriesornot != "series" %}
    {% assign anchor-series = page.series  %}
    {% assign page-weight-num = page.weight | plus: 0 %}
    {% assign page-weight-lessone = page-weight-num | minus: 1 %}
    {% assign page-weight-addone = page-weight-num | plus: 1 %}
    <a>
        {% for pg in site.pages %}
            {% if pg.series == anchor-series %}
                {% assign pg-weight-num = pg.weight | plus: 0 %}
                {% if pg-weight-num == page-weight-lessone %}
                    
                {% endif %}
                {% if pg-weight-num == page-weight-addone %}
                    
                {% endif %}
            {% endif %}
        {% endfor %}
	</a>
    &nbsp;
{% endif %}
</div>

-->
{% endif %}
