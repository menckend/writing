

<!-- --------------------------------------------------------------------- -->

<!-- Get arrays of the document hierarchy tags from the frontmatter of all the pages -->
{% assign libnames = site.pages | map: 'libname'  %}
{% assign docnames = site.pages | map: 'docname' %}
{% assign pagetitles = site.pages | map: 'title' %}
{% assign pagecount = site.pages | size %}


<!-- Create some empty arrays to use later (be sure that emptyArray is defined in _config.yml -->
{% assign unilib_entries = site.emptyArrary %}
{% assign tempvar =  site.emptyArrary  %}


<!-- Get an array of all the UNIQUE "libname" values (each gets its own dropdown in topnav) -->
{% assign uniquelibs = libnames | uniq | compact %}


<!-- build a list of all the documents in each library (will populate the menus in each of the topnav dropdowns) -->
{% assign libsdotdocs = site.emptyArray | compact %}
{% assign temparray = site.emptyArray | compact %}
{% for unilib in uniquelibs %}
  {% assign temparray = site.pages | where: 'libname', unilib | map: 'docname' | uniq %}
  {% assign temparray = temparray | compact %}
  {% assign appendectom = site.emptyArray %}
  {% assign outercounter = forloop.index0 %}
  {% for item in temparray %}
    {% assign appendectomy = uniquelibs[outercounter] | append: '.' | append: temparray[forloop.index0] %}
    {% assign libsdotdocs = libsdotdocs | push: appendectomy %}
  {% endfor %}
{% endfor %}


<!-- Loop through the unique library names -->
<!-- --------------------------------------------------------------------- -->




